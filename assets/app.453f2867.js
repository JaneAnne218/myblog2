import{x as f,p as l,w as h,o as u,c as _,R as v,A as g,B as y,b as w,G as A,M as p,a4 as b,a5 as C,a6 as V,a7 as x,a8 as P,a9 as E,aa as R,ab as L,ac as B,ad as T,J as D,d as k,u as N,k as S,ae as $,af as j,ag as I,ah as z}from"./chunks/framework.b8211e81.js";import{t as d}from"./chunks/theme.db8d0f42.js";const F={class:"comment-wrap"},M=v('<div class="page-edit-read"><span class="leancloud-visitors" data-flag-title="dev-zuo"><span class="post-meta-item-text">阅读量： </span><i class="leancloud-visitors-count"></i></span></div><div id="vcomments"></div>',2),O=[M],G={__name:"ValineComment",setup(e){const t=f();l(()=>{n("//unpkg.com/valine/dist/Valine.min.js").then(()=>a())}),h(()=>t.path,()=>{console.log("监听路由变化"),a()});function a(){let s=["http://localhost:5174/myblog2/","http://127.0.0.1"].some(c=>location.origin.startsWith(c))?`${location.origin}${location.pathname}`:location.pathname;document.getElementsByClassName("leancloud-visitors")[0].id=s,new Valine({el:"#vcomments",appId:"RspV7QBTkouSwZgJ76Hsty4b-gzGzoHsz",appKey:"4gVqepA2LwMFbThiwi6NIgxe",notify:!1,verify:!1,path:s,visitor:!0,avatar:"identicon",placeholder:"请在这里留下你的留言，如果上面填写了邮箱还能收到邮件哟，地址是点击头像跳转的地址"})}function n(r){return new Promise(s=>{var c=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",r),c.appendChild(i),i.onload=function(){s()}})}return(r,s)=>(u(),_("div",F,O))}},H={__name:"MyLayout",setup(e){const{Layout:t}=d;return(a,n)=>(u(),g(w(t),null,{"doc-after":y(()=>[A(G)]),_:1}))}},J={...d,Layout:H};function m(e){if(e.extends){const t=m(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const o=m(J),q=k({name:"VitePressApp",setup(){const{site:e}=N();return l(()=>{S(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),$(),j(),I(),o.setup&&o.setup(),()=>z(o.Layout)}});async function K(){const e=U(),t=Q();t.provide(C,e);const a=V(e.route);return t.provide(x,a),t.component("Content",P),t.component("ClientOnly",E),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:t,router:e,siteData:R}),{app:t,router:e,data:a}}function Q(){return L(q)}function U(){let e=p,t;return B(a=>{let n=T(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),p&&(e=!1),D(()=>import(n),[])},o.NotFound)}p&&K().then(({app:e,router:t,data:a})=>{t.go().then(()=>{b(t.route,a.site),e.mount("#app")})});export{K as createApp};
