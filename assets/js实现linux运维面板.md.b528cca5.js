import{_ as s,o as a,c as n,O as l}from"./chunks/framework.95c1f22c.js";const o="/myblog2/assets/1-eslint-init.3b657268.png",C=JSON.parse('{"title":"Js实现linux运维面板","description":"linux","frontmatter":{"title":"Js实现linux运维面板","description":"linux","date":"2023-7-10","tags":["linux"]},"headers":[],"relativePath":"js实现linux运维面板.md","filePath":"js实现linux运维面板.md","lastUpdated":1690481350000}'),e={name:"js实现linux运维面板.md"},t=l(`<p>自动化部署</p><h2 id="_1-npm-init" tabindex="-1">1. npm init <a class="header-anchor" href="#_1-npm-init" aria-label="Permalink to &quot;1. npm init&quot;">​</a></h2><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jane-deploy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CI/CD server</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">echo </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">Error: no test specified</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;"> &amp;&amp; exit 1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">keywords</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ci</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deploy</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zuoxiaobai</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">license</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MIT</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>没有写git+respository</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">repository</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">git</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">git+https://github.com/zuoxiaobai/js-deploy.git</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span></code></pre></div><h2 id="_2-eslint-init" tabindex="-1">2. eslint init <a class="header-anchor" href="#_2-eslint-init" aria-label="Permalink to &quot;2.  eslint init&quot;">​</a></h2><h2 id="_2-1-安装-npm-install-eslint-7-32-0-save-dev" tabindex="-1">2.1，安装 npm install eslint@7.32.0 --save-dev <a class="header-anchor" href="#_2-1-安装-npm-install-eslint-7-32-0-save-dev" aria-label="Permalink to &quot;2.1，安装 npm install eslint@7.32.0 --save-dev&quot;">​</a></h2><h2 id="_2-2-npx-eslint-init-按照只是一步步操作" tabindex="-1">2.2 npx eslint --init 按照只是一步步操作 <a class="header-anchor" href="#_2-2-npx-eslint-init-按照只是一步步操作" aria-label="Permalink to &quot;2.2 npx eslint --init 按照只是一步步操作&quot;">​</a></h2><p><img src="`+o+`" alt=""><br> 选择了第二个，并且推荐我安装了：eslint-plugin-vue@latest</p><h2 id="_2-3-npm-install-save-dev-save-exact-prettier" tabindex="-1">2.3 npm install --save-dev --save-exact prettier <a class="header-anchor" href="#_2-3-npm-install-save-dev-save-exact-prettier" aria-label="Permalink to &quot;2.3 npm install --save-dev --save-exact prettier&quot;">​</a></h2><h2 id="_2-4-npm-install-eslint-config-prettier-save-dev-处理eslint-与prettier的冲突" tabindex="-1">2.4 npm install eslint-config-prettier --save-dev 处理eslint 与prettier的冲突 <a class="header-anchor" href="#_2-4-npm-install-eslint-config-prettier-save-dev-处理eslint-与prettier的冲突" aria-label="Permalink to &quot;2.4 npm install eslint-config-prettier --save-dev 处理eslint 与prettier的冲突&quot;">​</a></h2><h2 id="_2-5-npm-install-eslint-plugin-prettier-save-dev-将-prettier-以插件形式集成到-eslint-处理流程中" tabindex="-1">2.5 npm install eslint-plugin-prettier --save-dev 将 prettier 以插件形式集成到 eslint 处理流程中 <a class="header-anchor" href="#_2-5-npm-install-eslint-plugin-prettier-save-dev-将-prettier-以插件形式集成到-eslint-处理流程中" aria-label="Permalink to &quot;2.5  npm install eslint-plugin-prettier --save-dev 将 prettier 以插件形式集成到 eslint 处理流程中&quot;">​</a></h2><p>配置 <a href="https://github.com/prettier/eslint-plugin-prettier" target="_blank" rel="noreferrer">eslint-plugin-prettier</a>，实际我参考的是zuo-deploy的文件。</p><h2 id="_3-koa-koa-router-koa-static" tabindex="-1">3. koa koa-router koa-static <a class="header-anchor" href="#_3-koa-koa-router-koa-static" aria-label="Permalink to &quot;3. koa koa-router koa-static&quot;">​</a></h2><h2 id="_3-1-完成接口、静态服务" tabindex="-1">3.1 完成接口、静态服务 <a class="header-anchor" href="#_3-1-完成接口、静态服务" aria-label="Permalink to &quot;3.1 完成接口、静态服务&quot;">​</a></h2><p>postman可以访问 <a href="http://127.0.0.1:7777/user" target="_blank" rel="noreferrer">http://127.0.0.1:7777/user</a><br> 浏览器可以访问 <a href="http://127.0.0.1:7777/" target="_blank" rel="noreferrer">http://127.0.0.1:7777/</a> 得到index.html页面</p><h2 id="_4-发布npm包" tabindex="-1">4. 发布npm包 <a class="header-anchor" href="#_4-发布npm包" aria-label="Permalink to &quot;4. 发布npm包&quot;">​</a></h2><h2 id="_4-1-发布npm包前本地调试" tabindex="-1">4.1 发布npm包前本地调试： <a class="header-anchor" href="#_4-1-发布npm包前本地调试" aria-label="Permalink to &quot;4.1 发布npm包前本地调试：&quot;">​</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm exec  </span></span>
<span class="line"><span style="color:#A6ACCD;">npm link  </span></span>
<span class="line"><span style="color:#A6ACCD;">janedeploy start </span><span style="color:#676E95;font-style:italic;">// 就成功了。</span></span></code></pre></div><h2 id="_4-2-发布npm包" tabindex="-1">4.2 发布npm包： <a class="header-anchor" href="#_4-2-发布npm包" aria-label="Permalink to &quot;4.2 发布npm包：&quot;">​</a></h2><ol><li>先切换到npm原镜像 npm config set registry <a href="https://registry.npmjs.org/" target="_blank" rel="noreferrer">https://registry.npmjs.org/</a></li><li>npm adduser; npm login; npm publish</li><li>切回到淘宝镜像 npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noreferrer">https://registry.npm.taobao.org</a></li></ol><h2 id="_5-杀死进程" tabindex="-1">5 杀死进程 <a class="header-anchor" href="#_5-杀死进程" aria-label="Permalink to &quot;5 杀死进程&quot;">​</a></h2><p>杀不掉-守护进程</p><h2 id="_6-linux" tabindex="-1">6. Linux <a class="header-anchor" href="#_6-linux" aria-label="Permalink to &quot;6. Linux&quot;">​</a></h2><ol start="0"><li>在virtual box上全局安装 jane-deploy，sudo install -g jane-deploy</li><li>查看bin目录下是否有 janedeploy</li><li>建议重启终端 sudo reboot</li><li>查找wsl下的bin，也没有janedeploy，但是却可以启动成功janedeploy,是因为启动的vscode的终端是bash，而不是wsl</li><li>查找janedeploy命令 和zuodeploy：which zuodeploy<br> 4.1 在wsl下<br> 4.2 在virtualbox的ubuntu下<br> 4.3 在win下</li><li>在wsl-ubuntu下的nginx</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install nginx </span><span style="color:#676E95;font-style:italic;">//安装  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//命令是 Systemd 的一个工具，用于管理系统服务的启动、停止和状态。</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start nginx</span><span style="color:#676E95;font-style:italic;">//启动，http://172.28.9.198，nginx的hello页面</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl stop nginx </span><span style="color:#676E95;font-style:italic;">//停止</span></span>
<span class="line"><span style="color:#A6ACCD;">ps aux </span><span style="color:#676E95;font-style:italic;">//查看当前运行的程序</span></span>
<span class="line"><span style="color:#A6ACCD;">ps </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">aux </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">程序名称</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">npm list </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g  </span><span style="color:#676E95;font-style:italic;">//查找全局安装的npm包</span></span>
<span class="line"><span style="color:#A6ACCD;">rm </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">janedeploy </span><span style="color:#676E95;font-style:italic;">//删除</span></span></code></pre></div><ol start="5"><li>readerme 换行失效，需要两个空格再换行</li></ol><h2 id="_7-markdown-语法" tabindex="-1">7. markdown 语法 <a class="header-anchor" href="#_7-markdown-语法" aria-label="Permalink to &quot;7. markdown 语法&quot;">​</a></h2><ol><li><code>![图片描述](./image.png)</code></li><li><code>![图片描述](https://example.com/image.png)</code></li><li></li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./image.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">alt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">图片描述</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">300</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span></code></pre></div><p>4 <code>[超链接文字描述](链接)</code> 相比于图片少了一个！ 5. 转义符号&#39;&#39;<br> win的路径 C:\\Users\\lala\\AppData\\Roaming\\npm<br> 用两个反引号<code>包围</code> 即:<code>C:\\Users\\lala\\AppData\\Roaming\\npm </code></p><h2 id="_8-bug" tabindex="-1">8 bug <a class="header-anchor" href="#_8-bug" aria-label="Permalink to &quot;8 bug&quot;">​</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sudo npm link </span><span style="color:#676E95;font-style:italic;">//提示错误：npm ERR! path /usr/bin/package.json</span></span></code></pre></div><h2 id="_9-逻辑" tabindex="-1">9. 逻辑 <a class="header-anchor" href="#_9-逻辑" aria-label="Permalink to &quot;9. 逻辑&quot;">​</a></h2><p>获取 ubuntu 本地的 nginx 配置到前端页面：</p><ol><li>前端发送请求</li><li>后端接收请求，并且响应</li></ol>`,36),p=[t];function r(i,c,D,y,F,u){return a(),n("div",null,p)}const h=s(e,[["render",r]]);export{C as __pageData,h as default};
